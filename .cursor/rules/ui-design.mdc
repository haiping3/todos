---
description: UI design guidelines and component patterns
globs: ["src/**/*.tsx", "src/**/*.css"]
alwaysApply: false
---

# UI Design Guidelines

## Design Philosophy

### Core Principles
- **Clean and Modern**: Minimalist design with purposeful elements
- **Consistent**: Unified visual language across all components
- **Accessible**: WCAG 2.1 AA compliance minimum
- **Responsive**: Adapt to popup size constraints (max 800x600px)

## Color System

### Theme Configuration

```typescript
/**
 * Theme color tokens
 * @author haiping.yu@zoom.us
 */

export const colors = {
  // Primary brand color
  primary: {
    50: '#eff6ff',
    100: '#dbeafe',
    200: '#bfdbfe',
    300: '#93c5fd',
    400: '#60a5fa',
    500: '#3b82f6',  // Main
    600: '#2563eb',
    700: '#1d4ed8',
    800: '#1e40af',
    900: '#1e3a8a',
  },
  
  // Semantic colors
  success: '#10b981',
  warning: '#f59e0b',
  error: '#ef4444',
  info: '#3b82f6',
  
  // Neutral
  gray: {
    50: '#f9fafb',
    100: '#f3f4f6',
    200: '#e5e7eb',
    300: '#d1d5db',
    400: '#9ca3af',
    500: '#6b7280',
    600: '#4b5563',
    700: '#374151',
    800: '#1f2937',
    900: '#111827',
  },
} as const;
```

### Tailwind Config

```javascript
// tailwind.config.js
module.exports = {
  content: ['./src/**/*.{ts,tsx}'],
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#eff6ff',
          // ... full scale
          500: '#3b82f6',
          600: '#2563eb',
        },
      },
      animation: {
        'fade-in': 'fadeIn 0.2s ease-out',
        'slide-up': 'slideUp 0.3s ease-out',
        'spin-slow': 'spin 2s linear infinite',
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { opacity: '0', transform: 'translateY(10px)' },
          '100%': { opacity: '1', transform: 'translateY(0)' },
        },
      },
    },
  },
  plugins: [],
};
```

## Typography

### Font Stack
```css
/* Use system fonts for performance */
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 
             'Helvetica Neue', Arial, sans-serif;
```

### Scale
| Size | Tailwind | Use Case |
|------|----------|----------|
| 12px | text-xs | Captions, labels |
| 14px | text-sm | Body text, buttons |
| 16px | text-base | Primary content |
| 18px | text-lg | Subheadings |
| 20px | text-xl | Section titles |
| 24px | text-2xl | Page titles |

## Spacing System

Use Tailwind's 4px base spacing:
- `p-1` = 4px
- `p-2` = 8px
- `p-3` = 12px
- `p-4` = 16px
- `p-6` = 24px
- `p-8` = 32px

### Component Spacing
```tsx
// Consistent spacing pattern
<div className="p-4 space-y-4">
  <header className="pb-2 border-b">
    <h1 className="text-xl font-semibold">Title</h1>
  </header>
  <main className="space-y-3">
    {/* Content */}
  </main>
  <footer className="pt-2 border-t">
    {/* Actions */}
  </footer>
</div>
```

## Component Patterns

### Cards

```tsx
/**
 * Card component with variants
 * @author haiping.yu@zoom.us
 */

interface CardProps {
  variant?: 'elevated' | 'outlined' | 'filled';
  children: React.ReactNode;
}

export const Card: React.FC<CardProps> = ({ 
  variant = 'elevated', 
  children 
}) => {
  return (
    <div
      className={clsx(
        'rounded-lg p-4',
        {
          'bg-white shadow-md dark:bg-gray-800': variant === 'elevated',
          'border border-gray-200 dark:border-gray-700': variant === 'outlined',
          'bg-gray-50 dark:bg-gray-900': variant === 'filled',
        }
      )}
    >
      {children}
    </div>
  );
};
```

### Inputs

```tsx
/**
 * Input component with label and error state
 * @author haiping.yu@zoom.us
 */

interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  label: string;
  error?: string;
}

export const Input: React.FC<InputProps> = ({ 
  label, 
  error, 
  id,
  ...props 
}) => {
  const inputId = id || label.toLowerCase().replace(/\s/g, '-');
  
  return (
    <div className="space-y-1">
      <label 
        htmlFor={inputId}
        className="block text-sm font-medium text-gray-700 dark:text-gray-300"
      >
        {label}
      </label>
      <input
        id={inputId}
        className={clsx(
          'w-full px-3 py-2 rounded-lg border transition-colors',
          'focus:outline-none focus:ring-2 focus:ring-primary-500',
          error 
            ? 'border-red-500 focus:ring-red-500' 
            : 'border-gray-300 dark:border-gray-600'
        )}
        {...props}
      />
      {error && (
        <p className="text-sm text-red-500">{error}</p>
      )}
    </div>
  );
};
```

### Loading States

```tsx
/**
 * Loading spinner component
 * @author haiping.yu@zoom.us
 */

export const Spinner: React.FC<{ size?: 'sm' | 'md' | 'lg' }> = ({ 
  size = 'md' 
}) => {
  const sizeClasses = {
    sm: 'w-4 h-4',
    md: 'w-6 h-6',
    lg: 'w-8 h-8',
  };

  return (
    <svg
      className={clsx('animate-spin text-primary-500', sizeClasses[size])}
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <circle
        className="opacity-25"
        cx="12"
        cy="12"
        r="10"
        stroke="currentColor"
        strokeWidth="4"
      />
      <path
        className="opacity-75"
        fill="currentColor"
        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
      />
    </svg>
  );
};
```

## Animations

### Micro-interactions
```tsx
// Hover effects
className="transition-colors hover:bg-gray-100"

// Scale on click
className="transition-transform active:scale-95"

// Fade in on mount
className="animate-fade-in"
```

### Page Transitions
```tsx
// Staggered list animation
{items.map((item, index) => (
  <div
    key={item.id}
    className="animate-slide-up"
    style={{ animationDelay: `${index * 50}ms` }}
  >
    {item.content}
  </div>
))}
```

## Dark Mode

### Implementation Pattern
```tsx
// Toggle dark mode
const toggleDarkMode = () => {
  document.documentElement.classList.toggle('dark');
};

// Component with dark mode support
<div className="bg-white dark:bg-gray-800 text-gray-900 dark:text-white">
  {content}
</div>
```

## Popup Size Constraints

### Dimensions
- **Min width**: 300px
- **Max width**: 800px
- **Min height**: 200px
- **Max height**: 600px

### Responsive Design
```tsx
// Popup container
<div className="w-[360px] min-h-[400px] max-h-[500px] overflow-hidden">
  <div className="h-full flex flex-col">
    <header className="flex-shrink-0 p-4">
      {/* Fixed header */}
    </header>
    <main className="flex-1 overflow-y-auto p-4">
      {/* Scrollable content */}
    </main>
    <footer className="flex-shrink-0 p-4 border-t">
      {/* Fixed footer */}
    </footer>
  </div>
</div>
```

## Accessibility

### Requirements
- All interactive elements must be keyboard accessible
- Color contrast ratio minimum 4.5:1 for normal text
- Use semantic HTML elements
- Provide alt text for images
- Use aria-labels for icon-only buttons

```tsx
// Accessible button with icon
<button
  aria-label="Close dialog"
  className="p-2 hover:bg-gray-100 rounded-lg"
>
  <XIcon className="w-5 h-5" />
</button>
```
